#!/usr/bin/env bash

# ---------------------------------------------------------------------------------------------------
# â¹$((...))æ”¯æŒä»¥ä¸‹çš„é€»è¾‘è¿ç®—ç¬¦
#    <ï¼šå°äº
#    >ï¼šå¤§äº
#    <=ï¼šå°äºæˆ–ç›¸ç­‰
#    >=ï¼šå¤§äºæˆ–ç›¸ç­‰
#    ==ï¼šç›¸ç­‰
#    !=ï¼šä¸ç›¸ç­‰
#    &&ï¼šé€»è¾‘ä¸
#    ||ï¼šé€»è¾‘æˆ–
#    !ï¼šé€»è¾‘å¦
#    expr1?expr2:expr3ï¼šä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ã€‚
#                       è‹¥è¡¨è¾¾å¼expr1çš„è®¡ç®—ç»“æœä¸ºéé›¶å€¼ï¼ˆç®—æœ¯çœŸï¼‰ï¼Œåˆ™æ‰§è¡Œè¡¨è¾¾å¼expr2ï¼Œ
#                       å¦åˆ™æ‰§è¡Œè¡¨è¾¾å¼expr3ã€‚
# ---------------------------------------------------------------------------------------------------

# ğŸ”´å¦‚æœé€»è¾‘è¡¨è¾¾å¼ä¸ºçœŸï¼Œè¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚
echo $((3 > 2))  # 1
echo $((3 > 5))  # 0
echo $(( (3 > 2) || (4 <= 1) ))  # 1

# ğŸ”´ä¸‰å…ƒè¿ç®—ç¬¦æ‰§è¡Œä¸€ä¸ªå•ç‹¬çš„é€»è¾‘æµ‹è¯•ã€‚å®ƒç”¨èµ·æ¥ç±»ä¼¼äºif/then/elseè¯­å¥ã€‚
var1=100
# å› ä¸º 100 < 10ï¼Œæ‰€ä»¥è¿”å› 0
echo $((var1 < 10 ? 1 : 0))  # 0

echo -e "\e[1;31m/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_åˆ†å‰²çº¿_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_\e[0m"

# ---------------------------------------------------------------------------------------------------
# â¹ç®—æœ¯è¡¨è¾¾å¼$((...))å¯ä»¥æ‰§è¡Œèµ‹å€¼è¿ç®—ã€‚
# ---------------------------------------------------------------------------------------------------
echo $((var2 = (10 + 2)))  # 12
echo "va2å˜é‡çš„å€¼: ${var2}"  # 12

var3=100
echo $((var3 += 200))  # 300
echo "var3å˜é‡çš„å€¼: ${var3}"  # 300

# ---------------------------------------------------------------------------------------------------
# â¹$((...))å†…éƒ¨çš„ , æ˜¯æ±‚å€¼è¿ç®—ç¬¦ï¼Œæ‰§è¡Œå‰åä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œå¹¶è¿”å›åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚
# ---------------------------------------------------------------------------------------------------
echo $((var4 = 1 + 2, 3 * 4))  # 12
echo "var4å˜é‡çš„å€¼: ${var4}"  # 3