#!/usr/bin/env bash

# ---------------------------------------------------------------------------------------------------
# â¹for...in å¾ªç¯
# for...inå¾ªç¯ç”¨äºéå†åˆ—è¡¨çš„æ¯ä¸€é¡¹ã€‚
#
# for variable in list; do
#   commands
# done
# ---------------------------------------------------------------------------------------------------

for num in {1..3}; do
    echo "$num"
done

# è¿›è¡Œå½“å‰æ–‡ä»¶å¤¹
cd 08-å¾ªç¯ || exit

# â¹åˆ—è¡¨å¯ä»¥ç”±é€šé…ç¬¦å’Œå­å‘½ä»¤äº§ç”Ÿ
sh_file_count=0
for file_name in $(echo *.sh); do
    sh_file_count=$((sh_file_count + 1))
    echo "å½“å‰æ–‡ä»¶åä¸º: $file_name"
done
echo "å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„.shæ–‡ä»¶æ€»æ•°ä¸º: $sh_file_count"

echo -e "\e[1;31m/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_åˆ†å‰²çº¿_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_\e[0m"

test_func() {

    # ------------------------------------------------------
    # â¹in listçš„éƒ¨åˆ†å¯ä»¥çœç•¥ï¼Œè¿™æ—¶listé»˜è®¤ç­‰äºè„šæœ¬çš„æ‰€æœ‰å‚æ•° $@
    # ä½†æ˜¯ï¼Œä¸ºäº†å¯è¯»æ€§ï¼Œæœ€å¥½è¿˜æ˜¯ä¸è¦çœç•¥
    # ------------------------------------------------------
    for param; do
        echo "$param"
    done

    echo '========================='

    # ------------------------------------------------------
    # â¹æ²¡æœ‰çœç•¥ in list çš„for å¾ªç¯
    # ------------------------------------------------------
    for param in "$@" ; do
        echo "$param"
    done

    echo 'hello world!'
}

test_func param1 param2 param3

echo -e "\e[1;31m/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_åˆ†å‰²çº¿_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_\e[0m"

# ------------------------------------------------------
# â¹å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œshä¸­çš„forå¾ªç¯ä¹Ÿå¯ä»¥å‘ä¸‹é¢è¿™æ ·å†™
# ğŸ’¥æ³¨æ„ï¼š(()) ä¸­çš„ å˜é‡ä¸éœ€è¦åŠ  $ç¬¦å·
# ------------------------------------------------------
loop_count=5
for (( i=0; i<loop_count; i=i+1 )); do
    echo "å½“å‰çš„æ•°å­—æ˜¯: $i"
done

# å¾ªç¯
echo "====================="
arr=(aa bb cc dd)
for ((i=0;i<${#arr[@]};i++)); do
    echo "element is ${arr[i]}"
done
echo "====================="

# ------------------------------------------------------
# â¹foræ¡ä»¶éƒ¨åˆ†çš„ä¸‰ä¸ªè¯­å¥ï¼Œéƒ½å¯ä»¥çœç•¥ã€‚
# æ­¤æ—¶çš„forå¾ªç¯å’Œwhileå¾ªç¯ä½œç”¨ç›¸åŒ
# ------------------------------------------------------
for ((;;)); do
    read -r var
    if [ "$var" = "." ]; then
        # ğŸ”´bashè„šæœ¬ä¸­åŒæ ·ä¹Ÿæ”¯æŒbreakå’Œcontinueè¯­å¥
        echo 'ç”¨äºç»ˆäºè¾“å…¥äº† .'
        echo 'ç¨‹åºç»ˆæ­¢'
        break
    fi
done
