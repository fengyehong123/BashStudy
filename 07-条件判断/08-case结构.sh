#!/usr/bin/env bash

# ---------------------------------------------------------------------------------------------------
# â¹caseç»“æž„
# ç”¨äºŽå¤šå€¼åˆ¤æ–­ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªå€¼æŒ‡å®šå¯¹åº”çš„å‘½ä»¤ï¼Œè·ŸåŒ…å«å¤šä¸ªelifçš„ifç»“æž„ç­‰ä»·ï¼Œä½†æ˜¯è¯­ä¹‰æ›´å¥½ã€‚
# 
# â¹è¯­æ³•å¦‚ä¸‹
# case expression in
#   pattern )
#     commands ;;
#   pattern )
#     commands ;;
#   ...
# esac
# ---------------------------------------------------------------------------------------------------

# -----------------------------------------------------------------
# ðŸ‘‰Bash 4.0ä¹‹å‰ï¼Œcaseç»“æž„åªèƒ½åŒ¹é…ä¸€ä¸ªæ¡ä»¶ï¼Œç„¶åŽå°±ä¼šé€€å‡ºcaseç»“æž„ã€‚ðŸ‘ˆ
# -----------------------------------------------------------------

echo -n 'è¾“å…¥ä¸€ä¸ª1åˆ°3ä¹‹é—´çš„æ•°å­— > '
# ç­‰å¾…ç”¨æˆ·è¾“å…¥å†…å®¹
read -r character

# â¹ä½¿ç”¨caseæ¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­
case "$character" in
    1 )
        echo -e "ç”¨æˆ·è¾“å…¥äº†\e[1;31m $character \e[0m"
        ;;
    2 )
        echo -e "ç”¨æˆ·è¾“å…¥äº†\e[1;31m $character \e[0m"
        ;;
    3 )
        echo -e "ç”¨æˆ·è¾“å…¥äº†\e[1;31m $character \e[0m"
        ;;
    # å½“ç”¨æˆ·è¾“å…¥çš„å†…å®¹ä¸åœ¨1åˆ°3çš„èŒƒå›´å†…ï¼Œè¿›å…¥åˆ°æ­¤åˆ†æ”¯
    * )
        echo 'è¾“å…¥ä¸ç¬¦åˆè§„èŒƒ, è¯·è¾“å…¥1åˆ°3ä¹‹é—´çš„æ•°å­—'
        ;;
esac

# èŽ·å–å½“å‰çš„ç”¨æˆ·å
OS=$(uname -s)

case "$OS" in
    FreeBSD ) 
        echo "This is FreeBSD" 
        ;;
    Darwin ) 
        echo "This is Mac OSX" 
        ;;
    AIX ) 
        echo "This is AIX" 
        ;;
    Minix )
        echo "This is Minix" 
        ;;
    Linux ) 
        echo "This is Linux" 
        ;;
    MINGW64_NT-10.0-19041 )
        echo "å“ˆå“ˆ,æˆ‘è‡ªå·±çš„ç”µè„‘" 
        ;;
    * ) 
        echo "Failed to identify this OS"
        ;;
esac

# ---------------------------------------------------------------------------------------------------
# â¹caseçš„åŒ¹é…æ¨¡å¼å¯ä»¥ä½¿ç”¨å„ç§é€šé…ç¬¦
#   a)
#     åŒ¹é…a
#   a|b)
#     åŒ¹é…aæˆ–b
#   [[:alpha:]])
#     åŒ¹é…å•ä¸ªå­—æ¯ã€‚
#   ???)
#     åŒ¹é…3ä¸ªå­—ç¬¦çš„å•è¯ã€‚
#   *.txt)
#     åŒ¹é….txtç»“å°¾ã€‚
#   *)
#     åŒ¹é…ä»»æ„è¾“å…¥ï¼Œé€šå¸¸ä½œä¸ºcaseç»“æž„çš„æœ€åŽä¸€ä¸ªæ¨¡å¼ã€‚
# ---------------------------------------------------------------------------------------------------
echo -n "è¾“å…¥ä¸€ä¸ªå­—æ¯æˆ–æ•°å­— > "
read -r character

# â¹caseç»“åˆåŒ¹é…æ¨¡å¼æ¥ä½¿ç”¨
case $character in
    # å½“è¾“å…¥çš„æ˜¯å¤§å†™æˆ–è€…å°å†™å­—æ¯çš„æ—¶å€™
    [[:lower:]] | [[:upper:]] )
        echo -e "è¾“å…¥äº†å­—æ¯\e[1;31m $character \e[0m"
        ;;
    # å½“è¾“å…¥çš„æ˜¯æ•°å­—çš„æ—¶å€™
    [0-9] )
        echo -e "è¾“å…¥äº†æ•°å­—\e[1;31m $character \e[0m"
        ;;
    * )                      
        echo "è¾“å…¥ä¸ç¬¦åˆè¦æ±‚"
        ;;
esac

echo -e "\e[1;31m/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_åˆ†å‰²çº¿_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_\e[0m"

# -----------------------------------------------------------------------------
# ðŸ‘‰Bash 4.0ä¹‹åŽï¼Œcaseç»“æž„å¯ä»¥åŒ¹é…å¤šä¸ªæ¡ä»¶ï¼Œè¿™æ—¶å¯ä½¿ç”¨ ;;& ç»ˆæ­¢æ¯ä¸ªæ¡ä»¶å—ã€‚ðŸ‘ˆ
# -----------------------------------------------------------------------------

read -r -n 1 -p "ðŸ‘‰è¾“å…¥ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—ðŸ‘ˆ > "
echo
# å› ä¸ºreadå‘½ä»¤åŽé¢æ²¡æœ‰å˜é‡åæ¥æŽ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å˜é‡ï¼ŒçŽ¯å¢ƒå˜é‡REPLYä¼šè‡ªåŠ¨å­˜å‚¨ç”¨æˆ·æ‰€è¾“å…¥çš„å†…å®¹
case $REPLY in
    [[:upper:]] )
        echo "$REPLY æ˜¯ä¸€ä¸ªå¤§å†™å­—æ¯." 
        # åŒ¹é…åˆ°å¤§å†™å­—æ¯ä¹‹åŽè¿˜æƒ³ç»§ç»­åŒ¹é…ï¼Œå°±åœ¨ ;; åŽé¢åŠ ä¸€ä¸ª &
        ;;&
    [[:lower:]] )    
        echo "$REPLY æ˜¯ä¸€ä¸ªå°å†™å­—æ¯." 
        ;;&
    [[:alpha:]] )    
        echo "$REPLY æ˜¯ä¸€ä¸ªå­—æ¯å­—ç¬¦."
        # åŒ¹é…åˆ°å­—æ¯å­—ç¬¦ä¹‹åŽå°±ä¸å†ç»§ç»­åŒ¹é…ï¼Œå°±ä½¿ç”¨ ;; äº†
        # èŒƒå›´å¤§çš„åŒ¹é…è¦æ”¾åˆ°æœ€åŽå…œåº•
        ;;
    [0-5] )
        echo "$REPLY åœ¨0åˆ°5çš„èŒƒå›´å†…." 
        ;;&
    [[:digit:]] )
        echo "$REPLY æ˜¯ä¸€ä¸ªæ•°å­—." 
        ;;
    [[:space:]] )
        echo "$REPLY æ˜¯ä¸€ä¸ªç©ºæ ¼." 
        ;;
    * )
       echo "ä½ è¿™æ˜¯è¾“å…¥äº†ä¸ªå•¥ï¼Ÿ ---> '$REPLY'." 
       ;;
esac