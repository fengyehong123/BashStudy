; è¿”å›å½“å‰è„šæœ¬çš„ä¸Šä¸€å±‚,ç„¶åæ‰§è¡Œè‡ªåŠ¨ç™»å½•è„šæœ¬
include '../00-è‡ªåŠ¨ç™»å½•/00-è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³.ttl'

; å°†è„šæœ¬ç»ˆæ­¢1ç§’é’Ÿï¼Œç›®çš„æ˜¯ç­‰åˆ°ç™»å½•ç•Œé¢å®Œå…¨æ˜¾ç¤ºä¹‹å
; å†ç»§ç»­æ‰§è¡Œä¸‹é¢çš„è„šæœ¬ï¼Œå¯ä»¥ä¿è¯å¼¹å‡ºæ¡†æ˜¾ç¤ºåœ¨ç™»å½•ç•Œé¢çš„ä¸Šä¸€å±‚
pause 1

; â¹å¦‚æœä¿å­˜logçš„æ–‡ä»¶å¤¹ä¸å­˜åœ¨çš„è¯, å°±æ–°å»ºä¸€ä¸ª
log_save_folder = "ttl_log"
foldersearch log_save_folder
if result <> 1 then
    ; æ–°å»ºæ–‡ä»¶å¤¹
    foldercreate log_save_folder
endif

; è·å–å½“å‰è„šæœ¬æ‰€åœ¨æ–‡ä»¶å¤¹
getdir current_ttl_dir

; æ—¥å¿—çš„å…¨è·¯å¾„
getdate log_name "%Y%m%d_%H%M%S_ttl_macro_prod.log"
sprintf2 log_full_path "%s\%s\%s" current_ttl_dir log_save_folder log_name

/*
    ğŸ’¥ğŸ’¥ğŸ’¥æ³¨æ„äº‹é¡¹ğŸ’¥ğŸ’¥ğŸ’¥
    åœ¨ tera term çš„ 5.4 ç‰ˆæœ¬ä¸­
        å½“å¤åˆ¶å‘½ä»¤ç²˜è´´åˆ°ç»ˆç«¯ä¸Šæ‰§è¡Œæ—¶, logä¼šæ˜¾ç¤ºä¸¤è¡Œ(è™½ç„¶æˆ‘ä»¬åªç²˜è´´äº†ä¸€è¡Œ)
    è§£å†³åŠæ³•:
        æ‰¾åˆ° TERATERM.INI é…ç½®æ–‡ä»¶
        ç„¶åå°† BracketedControlOnly æ”¹ä¸º on å³å¯è§£å†³è¯¥é—®é¢˜
    å‚è€ƒé“¾æ¥:
        1. https://teratermproject.github.io/manual/5/ja/about/glossary.html çš„ åˆ¶å¾¡ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ éƒ¨åˆ†
        2. https://github.com/TeraTermProject/teraterm/issues/220
        3. https://teratermproject.github.io/manual/5/ja/about/history.html çš„ 2024.09.08 (Ver 5.3) éƒ¨åˆ†
*/
; æ±‰å­—å’Œæ¢è¡Œæ–‡å­—ä¼šè½¬æ¢ä¹‹åå†å†™å…¥
binary_flag = 0
; å¦‚æœlogæ–‡ä»¶æœ¬èº«å°±å­˜åœ¨çš„è¯, ä¸è¦†ç›–logæ–‡ä»¶, è€Œæ˜¯è¿½åŠ å†…å®¹
append_flag = 1
; 0 å¼€å¯çº¯æ–‡æœ¬æ¨¡å¼, ASCIIç­‰éè¡¨ç¤ºæ–‡å­—ä¹Ÿä¼šè¢«å†™å…¥
; 1 å…³é—­çº¯æ–‡æœ¬æ¨¡å¼, ASCIIç­‰éè¡¨ç¤ºæ–‡å­—ä¸ä¼šè¢«å†™å…¥
plain_text_flag = 1
; ä¸åœ¨logå¼€å¤´æ˜¾ç¤ºæ—¶é—´æˆ³
timestamp_flag = 0
; ä¸æ˜¾ç¤ºlogçª—å£
hide_dialog_flag = 1
; å±å¹•ä¸Šçš„ç¼“å­˜ï¼Œä¸ä¼šå…ˆå†™å…¥æ—¥å¿—ä¸­
include_screen_buffer_flag = 0

; å¼€å¯logè‡ªåŠ¨è®°å½•
logopen log_full_path binary_flag append_flag plain_text_flag timestamp_flag hide_dialog_flag include_screen_buffer_flag

; å…ˆå‘logä¸­å†™å…¥ä¸‹é¢çš„å†…å®¹
logwrite 'Log start'#13#10
logwrite '*****************************************************'#13#10

; æ‰“å°
sendln 'echo "ä¿å­˜logçš„è·¯å¾„ä¸º â†’ ' log_full_path '"'
wait username

; ä¸­æ–­logæ‰“å°
logpause

sendln 'echo "å†…å®¹1111..."'
wait username

sendln 'echo "å†…å®¹2222..."'
wait username

; ç»§ç»­å¼€å§‹è®°å½•log
logstart
