#!/usr/bin/env bash

# ______________________________________________________________
# ðŸ”´åœ¨ Bash é‡Œï¼Œpushd å’Œ popd æ˜¯ ç›®å½•å †æ ˆå‘½ä»¤ï¼Œç”¨æ¥æ›´æ–¹ä¾¿åœ°åœ¨å¤šä¸ªç›®å½•ä¹‹é—´åˆ‡æ¢ã€‚å®ƒä»¬å’Œ cd çš„åŒºåˆ«åœ¨äºŽï¼š
#   1. cd åªæ˜¯å•çº¯åˆ‡æ¢ç›®å½•ã€‚
#   2. pushd/popd ä¼šç»´æŠ¤ä¸€ä¸ªâ€œç›®å½•æ ˆâ€ï¼ˆstackï¼‰ï¼Œå¯ä»¥éšæ—¶åˆ‡æ¢å›žæ¥ã€‚
# â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾

# å®šä¹‰é¡¹ç›®ç›®å½•
PROJECTS=(
    "$HOME/Desktop/cbc"
    "$HOME/Desktop/House"
    "$HOME/Desktop/Markdown"
)

# æ˜¾ç¤ºé¡¹ç›®åˆ—è¡¨
echo "è¯·é€‰æ‹©è¦è¿›å…¥çš„é¡¹ç›®ç›®å½•:"1
for i in "${!PROJECTS[@]}"; do
    echo "  $i) ${PROJECTS[$i]}"
done

# ç”¨æˆ·è¾“å…¥é€‰æ‹©
read -p "è¾“å…¥ç¼–å·: " choice

# æ£€æŸ¥è¾“å…¥æ˜¯å¦æœ‰æ•ˆ
if [[ "$choice" =~ ^[0-9]+$ ]] && [[ $choice -lt ${#PROJECTS[@]} ]]; then
    # ðŸ”´åˆ‡æ¢åˆ°å¯¹åº”çš„ç›®å½•ä¸‹
    pushd "${PROJECTS[$choice]}" >/dev/null || exit 1
    echo "å·²åˆ‡æ¢åˆ°: $(pwd)"
else
    echo "æ— æ•ˆé€‰æ‹©!"
    exit 1
fi

# åœ¨è¿™é‡Œå¯ä»¥æ‰§è¡Œé¡¹ç›®ç›¸å…³çš„å‘½ä»¤
echo -e "ç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰:"
ls -l

# ðŸ”´è¿”å›žåŽŸç›®å½•
popd >/dev/null
echo "è¿”å›žåˆ°åŽŸç›®å½•: $PWD"
