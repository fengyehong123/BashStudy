#!/usr/bin/env bash

# ---------------------------------------------------------------------------------------------------
# ⏹命令执行结束后，会有一个返回值。
# 0表示执行成功，非0（通常是1）表示执行失败。
# 环境变量 $? 可以读取前一个命令的返回值。
# ---------------------------------------------------------------------------------------------------

cd 05-脚本 || exit

# shellcheck disable=SC2181
if [ "$?" != '0' ]; then
    echo "无法切换目录！" 1>&2
    exit 1
fi

echo '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'
ls -l
echo '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'

# ---------------------------------------------------------------------------------------------------
# ⏹判断当路径不存在的时候，执行相应的操作，这种写法更加简单
# ---------------------------------------------------------------------------------------------------
if ! cd 06-不存在的文件夹; then
    echo 
    echo "无法切换目录！" 1>&2
    echo '========================================'
    # exit 1
fi

# ---------------------------------------------------------------------------------------------------
# ⏹当能切换到指定的目录时，才会执行 ls命令
# ---------------------------------------------------------------------------------------------------
cd .. && ls -l

# ---------------------------------------------------------------------------------------------------
# ⏹第一步执行失败，才会执行第二步
# ---------------------------------------------------------------------------------------------------
cd ./06-不存在的文件夹 || echo '文件夹不存在';exit 1